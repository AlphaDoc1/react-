{"ast":null,"code":"import{Badge,Email,Lock,Person,Phone,Save}from'@mui/icons-material';import{Alert,Box,Button,Container,Paper,Stack,TextField,Typography}from'@mui/material';import axios from'axios';import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserProfile(){const[profile,setProfile]=useState({username:'',fullName:'',email:'',phoneNumber:''});const[message,setMessage]=useState('');const username=localStorage.getItem('username')||'';useEffect(()=>{if(username){axios.get('/api/users/profile?username='+encodeURIComponent(username)).then(response=>setProfile(response.data)).catch(error=>console.error('Error fetching profile',error));}},[username]);const handleChange=e=>{setProfile({...profile,[e.target.name]:e.target.value});};const handleUpdate=()=>{axios.put('/api/users/profile',profile).then(response=>{setProfile(response.data);setMessage('Profile updated successfully');}).catch(error=>{console.error('Error updating profile',error);setMessage('Error updating profile');});};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",sx:{minHeight:'100vh',display:'flex',alignItems:'center',py:4// Add padding top and bottom for better spacing\n},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{p:4,width:'100%'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h4\",component:\"h2\",gutterBottom:true,sx:{color:'#2c3e50',textAlign:'center',mb:3},children:[/*#__PURE__*/_jsx(Person,{sx:{mr:1,verticalAlign:'middle'}}),\"User Profile\"]}),message&&/*#__PURE__*/_jsx(Alert,{severity:message.includes('Error')?'error':'success',sx:{mb:3},children:message}),/*#__PURE__*/_jsx(Box,{component:\"form\",onSubmit:e=>{e.preventDefault();handleUpdate();},children:/*#__PURE__*/_jsxs(Stack,{spacing:3,children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Username\",name:\"username\",value:profile.username,InputProps:{readOnly:true,startAdornment:/*#__PURE__*/_jsx(Badge,{sx:{mr:1,color:'action.active'}})}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Full Name\",name:\"fullName\",value:profile.fullName||'',onChange:handleChange,InputProps:{startAdornment:/*#__PURE__*/_jsx(Person,{sx:{mr:1,color:'action.active'}})}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Email\",name:\"email\",type:\"email\",value:profile.email||'',onChange:handleChange,InputProps:{startAdornment:/*#__PURE__*/_jsx(Email,{sx:{mr:1,color:'action.active'}})}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Phone Number\",name:\"phoneNumber\",value:profile.phoneNumber||'',onChange:handleChange,InputProps:{startAdornment:/*#__PURE__*/_jsx(Phone,{sx:{mr:1,color:'action.active'}})}}),/*#__PURE__*/_jsx(TextField,{fullWidth:true,label:\"Password\",name:\"password\",type:\"password\",placeholder:\"Update password\",onChange:handleChange,InputProps:{startAdornment:/*#__PURE__*/_jsx(Lock,{sx:{mr:1,color:'action.active'}})}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",size:\"large\",sx:{bgcolor:'#3498db','&:hover':{bgcolor:'#2980b9'}},startIcon:/*#__PURE__*/_jsx(Save,{}),children:\"Update Profile\"})]})})]})});}export default UserProfile;","map":{"version":3,"names":["Badge","Email","Lock","Person","Phone","Save","Alert","Box","Button","Container","Paper","Stack","TextField","Typography","axios","React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","UserProfile","profile","setProfile","username","fullName","email","phoneNumber","message","setMessage","localStorage","getItem","get","encodeURIComponent","then","response","data","catch","error","console","handleChange","e","target","name","value","handleUpdate","put","maxWidth","sx","minHeight","display","alignItems","py","children","elevation","p","width","variant","component","gutterBottom","color","textAlign","mb","mr","verticalAlign","severity","includes","onSubmit","preventDefault","spacing","fullWidth","label","InputProps","readOnly","startAdornment","onChange","type","placeholder","size","bgcolor","startIcon"],"sources":["C:/Users/savan/OneDrive/Desktop/react-notes-app/src/components/UserProfile.js"],"sourcesContent":["import {\r\n  Badge,\r\n  Email,\r\n  Lock,\r\n  Person,\r\n  Phone,\r\n  Save\r\n} from '@mui/icons-material';\r\nimport {\r\n  Alert,\r\n  Box,\r\n  Button,\r\n  Container,\r\n  Paper,\r\n  Stack,\r\n  TextField,\r\n  Typography\r\n} from '@mui/material';\r\nimport axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nfunction UserProfile() {\r\n  const [profile, setProfile] = useState({ username: '', fullName: '', email: '', phoneNumber: '' });\r\n  const [message, setMessage] = useState('');\r\n  const username = localStorage.getItem('username') || '';\r\n\r\n  useEffect(() => {\r\n    if (username) {\r\n      axios.get('/api/users/profile?username=' + encodeURIComponent(username))\r\n        .then(response => setProfile(response.data))\r\n        .catch(error => console.error('Error fetching profile', error));\r\n    }\r\n  }, [username]);\r\n\r\n  const handleChange = (e) => {\r\n    setProfile({...profile, [e.target.name]: e.target.value});\r\n  };\r\n\r\n  const handleUpdate = () => {\r\n    axios.put('/api/users/profile', profile)\r\n      .then(response => {\r\n        setProfile(response.data);\r\n        setMessage('Profile updated successfully');\r\n      })\r\n      .catch(error => {\r\n        console.error('Error updating profile', error);\r\n        setMessage('Error updating profile');\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" sx={{ \r\n      minHeight: '100vh', \r\n      display: 'flex', \r\n      alignItems: 'center',\r\n      py: 4 // Add padding top and bottom for better spacing\r\n    }}>\r\n      <Paper elevation={3} sx={{ p: 4, width: '100%' }}>\r\n        <Typography variant=\"h4\" component=\"h2\" gutterBottom \r\n          sx={{ \r\n            color: '#2c3e50',\r\n            textAlign: 'center',\r\n            mb: 3\r\n          }}>\r\n          <Person sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n          User Profile\r\n        </Typography>\r\n\r\n        {message && (\r\n          <Alert \r\n            severity={message.includes('Error') ? 'error' : 'success'} \r\n            sx={{ mb: 3 }}\r\n          >\r\n            {message}\r\n          </Alert>\r\n        )}\r\n\r\n        <Box component=\"form\" onSubmit={(e) => { e.preventDefault(); handleUpdate(); }}>\r\n          <Stack spacing={3}>\r\n            <TextField\r\n              fullWidth\r\n              label=\"Username\"\r\n              name=\"username\"\r\n              value={profile.username}\r\n              InputProps={{\r\n                readOnly: true,\r\n                startAdornment: <Badge sx={{ mr: 1, color: 'action.active' }} />\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Full Name\"\r\n              name=\"fullName\"\r\n              value={profile.fullName || ''}\r\n              onChange={handleChange}\r\n              InputProps={{\r\n                startAdornment: <Person sx={{ mr: 1, color: 'action.active' }} />\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Email\"\r\n              name=\"email\"\r\n              type=\"email\"\r\n              value={profile.email || ''}\r\n              onChange={handleChange}\r\n              InputProps={{\r\n                startAdornment: <Email sx={{ mr: 1, color: 'action.active' }} />\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Phone Number\"\r\n              name=\"phoneNumber\"\r\n              value={profile.phoneNumber || ''}\r\n              onChange={handleChange}\r\n              InputProps={{\r\n                startAdornment: <Phone sx={{ mr: 1, color: 'action.active' }} />\r\n              }}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              label=\"Password\"\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"Update password\"\r\n              onChange={handleChange}\r\n              InputProps={{\r\n                startAdornment: <Lock sx={{ mr: 1, color: 'action.active' }} />\r\n              }}\r\n            />\r\n\r\n            <Button \r\n              type=\"submit\" \r\n              variant=\"contained\" \r\n              size=\"large\"\r\n              sx={{\r\n                bgcolor: '#3498db',\r\n                '&:hover': {\r\n                  bgcolor: '#2980b9'\r\n                }\r\n              }}\r\n              startIcon={<Save />}\r\n            >\r\n              Update Profile\r\n            </Button>\r\n          </Stack>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default UserProfile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}