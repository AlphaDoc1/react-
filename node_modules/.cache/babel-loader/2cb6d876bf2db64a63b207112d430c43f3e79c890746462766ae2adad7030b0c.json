{"ast":null,"code":"import CloseIcon from'@mui/icons-material/Close';import MicIcon from'@mui/icons-material/Mic';import PersonIcon from'@mui/icons-material/Person';import SendIcon from'@mui/icons-material/Send';import SmartToyIcon from'@mui/icons-material/SmartToy';import{AnimatePresence,motion}from'framer-motion';import React,{useEffect,useRef,useState}from'react';import'./AIAssistant.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AIAssistant(){const[isOpen,setIsOpen]=useState(false);const[mode,setMode]=useState('text');const[isListening,setIsListening]=useState(false);const[recognition,setRecognition]=useState(null);const[inputText,setInputText]=useState('');const[messages,setMessages]=useState([]);const[isLoading,setIsLoading]=useState(false);const[isVoiceOnly,setIsVoiceOnly]=useState(false);const[isSpeaking,setIsSpeaking]=useState(false);const messagesEndRef=useRef(null);useEffect(()=>{// Initialize speech recognition\nif('webkitSpeechRecognition'in window){const recognition=new window.webkitSpeechRecognition();recognition.continuous=false;recognition.interimResults=false;recognition.lang='en-US';setRecognition(recognition);}else{console.warn('Speech recognition not supported in this browser');}},[]);const speakResponse=text=>{const utterance=new SpeechSynthesisUtterance(text);utterance.onstart=()=>setIsSpeaking(true);utterance.onend=()=>setIsSpeaking(false);window.speechSynthesis.speak(utterance);};const stopSpeech=()=>{window.speechSynthesis.cancel();setIsSpeaking(false);};const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});};useEffect(()=>{scrollToBottom();},[messages]);// Auto-scroll when messages change\nconst handleSend=async function(message){let isVoiceInput=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;try{setIsLoading(true);setMessages(prev=>[...prev,{sender:'user',text:message}]);const response=await fetch('/api/chat/ask',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message})});if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const data=await response.json();let botResponse='';if(data&&data.candidates&&data.candidates.length>0&&data.candidates[0].content&&data.candidates[0].content.parts&&data.candidates[0].content.parts.length>0){botResponse=data.candidates[0].content.parts[0].text;}else{botResponse=JSON.stringify(data);}setMessages(prev=>[...prev,{sender:'ai',text:botResponse}]);// Only speak the response if it came from voice input\nif(isVoiceInput){speakResponse(botResponse);}}catch(error){console.error('Error:',error);setMessages(prev=>[...prev,{sender:'ai',text:'Error: '+error.message}]);}finally{setIsLoading(false);setIsVoiceOnly(false);}};const handleTextInput=()=>{if(inputText.trim()){handleSend(inputText,false);// Pass false for isVoiceInput\nsetInputText('');}};const handleVoiceInput=async()=>{// If speech is ongoing, stop it\nif(isSpeaking){stopSpeech();return;}// If recognition is ongoing, stop it\nif(isListening){recognition.stop();return;}try{// First request microphone permission explicitly\nconst stream=await navigator.mediaDevices.getUserMedia({audio:true});stream.getTracks().forEach(track=>track.stop());if(!recognition){alert('Speech recognition not supported in your browser');return;}setIsVoiceOnly(true);recognition.onstart=()=>{setIsListening(true);console.log('Listening...');};recognition.onresult=event=>{const transcript=event.results[0][0].transcript;console.log('Recognized:',transcript);handleSend(transcript,true);setIsListening(false);};recognition.onerror=event=>{console.error('Speech recognition error:',event.error);setIsListening(false);setIsVoiceOnly(false);if(event.error==='not-allowed'){alert('Microphone access was denied. Please allow access to use voice input.');}else{alert('Error occurred in speech recognition: '+event.error);}};recognition.onend=()=>{setIsListening(false);console.log('Speech recognition ended');};recognition.start();}catch(error){console.error('Microphone access error:',error);if(error.name==='NotAllowedError'){alert('Microphone access was denied. Please allow access to use voice input.');}else{alert('Error accessing microphone: '+error.message);}setIsListening(false);setIsVoiceOnly(false);}};// Animation variants\nconst containerVariants={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};const messageVariants={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}};const userMessageVariants={hidden:{opacity:0,x:20},visible:{opacity:1,x:0}};return/*#__PURE__*/_jsxs(\"div\",{className:\"ai-assistant-container\",children:[!isOpen&&/*#__PURE__*/_jsx(motion.div,{className:\"floating-icon\",onClick:()=>setIsOpen(true),whileHover:{scale:1.1},whileTap:{scale:0.9},children:/*#__PURE__*/_jsx(SmartToyIcon,{style:{fontSize:40}})}),/*#__PURE__*/_jsx(AnimatePresence,{children:isOpen&&/*#__PURE__*/_jsxs(motion.div,{className:\"assistant-modal\",initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0.8},transition:{type:'spring',stiffness:300,damping:20},style:{position:'fixed',bottom:'20px',right:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"AI Assistant\"}),/*#__PURE__*/_jsx(CloseIcon,{className:\"close-icon\",onClick:()=>setIsOpen(false),whileHover:{rotate:90}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"chat-messages\",children:[messages.map((message,index)=>/*#__PURE__*/_jsxs(\"div\",{className:`message ${message.sender}`,children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-icon\",children:message.sender==='user'?/*#__PURE__*/_jsx(PersonIcon,{style:{color:'#1976d2'}}):/*#__PURE__*/_jsx(SmartToyIcon,{style:{color:'#4caf50'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"message-content\",children:message.text})]},index)),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"message ai\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"message-icon\",children:/*#__PURE__*/_jsx(SmartToyIcon,{style:{color:'#4caf50'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"message-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dot-loader\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dot\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dot\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(motion.div,{className:\"chat-input-container\",whileHover:{scale:1.02},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputText,onChange:e=>setInputText(e.target.value),placeholder:\"Type your message...\",onKeyPress:e=>{if(e.key==='Enter'&&inputText.trim()){handleSend(inputText);setInputText('');}},disabled:isLoading}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(motion.button,{className:\"icon-button\",onClick:()=>{if(inputText.trim()){handleSend(inputText);setInputText('');}},whileHover:{scale:1.1},whileTap:{scale:0.9},disabled:isLoading||!inputText.trim(),children:/*#__PURE__*/_jsx(SendIcon,{style:{fontSize:20}})}),/*#__PURE__*/_jsxs(motion.button,{className:`icon-button mic-button ${isListening?'listening':''} ${isSpeaking?'speaking':''}`,onClick:handleVoiceInput,whileHover:{scale:1.1},whileTap:{scale:0.9},disabled:isLoading,children:[/*#__PURE__*/_jsx(MicIcon,{style:{fontSize:20}}),(isListening||isSpeaking)&&/*#__PURE__*/_jsx(\"div\",{className:\"listening-animation\"})]})]})]})]})]})})]});}export default AIAssistant;","map":{"version":3,"names":["CloseIcon","MicIcon","PersonIcon","SendIcon","SmartToyIcon","AnimatePresence","motion","React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","AIAssistant","isOpen","setIsOpen","mode","setMode","isListening","setIsListening","recognition","setRecognition","inputText","setInputText","messages","setMessages","isLoading","setIsLoading","isVoiceOnly","setIsVoiceOnly","isSpeaking","setIsSpeaking","messagesEndRef","window","webkitSpeechRecognition","continuous","interimResults","lang","console","warn","speakResponse","text","utterance","SpeechSynthesisUtterance","onstart","onend","speechSynthesis","speak","stopSpeech","cancel","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSend","message","isVoiceInput","arguments","length","undefined","prev","sender","response","fetch","method","headers","body","JSON","stringify","ok","Error","status","data","json","botResponse","candidates","content","parts","error","handleTextInput","trim","handleVoiceInput","stop","stream","navigator","mediaDevices","getUserMedia","audio","getTracks","forEach","track","alert","log","onresult","event","transcript","results","onerror","start","name","containerVariants","hidden","opacity","y","visible","messageVariants","x","userMessageVariants","className","children","div","onClick","whileHover","scale","whileTap","style","fontSize","initial","animate","exit","transition","type","stiffness","damping","position","bottom","right","rotate","map","index","color","ref","value","onChange","e","target","placeholder","onKeyPress","key","disabled","button"],"sources":["C:/Users/savan/OneDrive/Desktop/react-notes-app/src/components/AIAssistant.js"],"sourcesContent":["import CloseIcon from '@mui/icons-material/Close';\r\nimport MicIcon from '@mui/icons-material/Mic';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport SmartToyIcon from '@mui/icons-material/SmartToy';\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport React, { useEffect, useRef, useState } from 'react';\r\nimport './AIAssistant.css';\r\n\r\nfunction AIAssistant() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [mode, setMode] = useState('text');\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [recognition, setRecognition] = useState(null);\r\n  const [inputText, setInputText] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isVoiceOnly, setIsVoiceOnly] = useState(false);\r\n  const [isSpeaking, setIsSpeaking] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Initialize speech recognition\r\n    if ('webkitSpeechRecognition' in window) {\r\n      const recognition = new window.webkitSpeechRecognition();\r\n      recognition.continuous = false;\r\n      recognition.interimResults = false;\r\n      recognition.lang = 'en-US';\r\n      setRecognition(recognition);\r\n    } else {\r\n      console.warn('Speech recognition not supported in this browser');\r\n    }\r\n  }, []);\r\n\r\n  const speakResponse = (text) => {\r\n    const utterance = new SpeechSynthesisUtterance(text);\r\n    utterance.onstart = () => setIsSpeaking(true);\r\n    utterance.onend = () => setIsSpeaking(false);\r\n    window.speechSynthesis.speak(utterance);\r\n  };\r\n\r\n  const stopSpeech = () => {\r\n    window.speechSynthesis.cancel();\r\n    setIsSpeaking(false);\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]); // Auto-scroll when messages change\r\n\r\n  const handleSend = async (message, isVoiceInput = false) => {\r\n    try {\r\n      setIsLoading(true);\r\n      setMessages(prev => [...prev, { sender: 'user', text: message }]);\r\n      \r\n      const response = await fetch('/api/chat/ask', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ message })\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      \r\n      let botResponse = '';\r\n      if (\r\n        data &&\r\n        data.candidates &&\r\n        data.candidates.length > 0 &&\r\n        data.candidates[0].content &&\r\n        data.candidates[0].content.parts &&\r\n        data.candidates[0].content.parts.length > 0\r\n      ) {\r\n        botResponse = data.candidates[0].content.parts[0].text;\r\n      } else {\r\n        botResponse = JSON.stringify(data);\r\n      }\r\n      \r\n      setMessages(prev => [...prev, { sender: 'ai', text: botResponse }]);\r\n      \r\n      // Only speak the response if it came from voice input\r\n      if (isVoiceInput) {\r\n        speakResponse(botResponse);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      setMessages(prev => [...prev, { sender: 'ai', text: 'Error: ' + error.message }]);\r\n    } finally {\r\n      setIsLoading(false);\r\n      setIsVoiceOnly(false);\r\n    }\r\n  };\r\n\r\n  const handleTextInput = () => {\r\n    if (inputText.trim()) {\r\n      handleSend(inputText, false); // Pass false for isVoiceInput\r\n      setInputText('');\r\n    }\r\n  };\r\n\r\n  const handleVoiceInput = async () => {\r\n    // If speech is ongoing, stop it\r\n    if (isSpeaking) {\r\n      stopSpeech();\r\n      return;\r\n    }\r\n\r\n    // If recognition is ongoing, stop it\r\n    if (isListening) {\r\n      recognition.stop();\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // First request microphone permission explicitly\r\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      stream.getTracks().forEach(track => track.stop());\r\n\r\n      if (!recognition) {\r\n        alert('Speech recognition not supported in your browser');\r\n        return;\r\n      }\r\n\r\n      setIsVoiceOnly(true);\r\n      recognition.onstart = () => {\r\n        setIsListening(true);\r\n        console.log('Listening...');\r\n      };\r\n      \r\n      recognition.onresult = (event) => {\r\n        const transcript = event.results[0][0].transcript;\r\n        console.log('Recognized:', transcript);\r\n        handleSend(transcript, true);\r\n        setIsListening(false);\r\n      };\r\n      \r\n      recognition.onerror = (event) => {\r\n        console.error('Speech recognition error:', event.error);\r\n        setIsListening(false);\r\n        setIsVoiceOnly(false);\r\n        if (event.error === 'not-allowed') {\r\n          alert('Microphone access was denied. Please allow access to use voice input.');\r\n        } else {\r\n          alert('Error occurred in speech recognition: ' + event.error);\r\n        }\r\n      };\r\n      \r\n      recognition.onend = () => {\r\n        setIsListening(false);\r\n        console.log('Speech recognition ended');\r\n      };\r\n\r\n      recognition.start();\r\n    } catch (error) {\r\n      console.error('Microphone access error:', error);\r\n      if (error.name === 'NotAllowedError') {\r\n        alert('Microphone access was denied. Please allow access to use voice input.');\r\n      } else {\r\n        alert('Error accessing microphone: ' + error.message);\r\n      }\r\n      setIsListening(false);\r\n      setIsVoiceOnly(false);\r\n    }\r\n  };\r\n\r\n  // Animation variants\r\n  const containerVariants = {\r\n    hidden: { opacity: 0, y: 20 },\r\n    visible: { opacity: 1, y: 0 }\r\n  };\r\n\r\n  const messageVariants = {\r\n    hidden: { opacity: 0, x: -20 },\r\n    visible: { opacity: 1, x: 0 }\r\n  };\r\n\r\n  const userMessageVariants = {\r\n    hidden: { opacity: 0, x: 20 },\r\n    visible: { opacity: 1, x: 0 }\r\n  };\r\n\r\n  return (\r\n    <div className=\"ai-assistant-container\">\r\n      {!isOpen && (\r\n        <motion.div \r\n          className=\"floating-icon\"\r\n          onClick={() => setIsOpen(true)}\r\n          whileHover={{ scale: 1.1 }}\r\n          whileTap={{ scale: 0.9 }}\r\n        >\r\n          <SmartToyIcon style={{ fontSize: 40 }} />\r\n        </motion.div>\r\n      )}\r\n\r\n      <AnimatePresence>\r\n        {isOpen && (\r\n          <motion.div \r\n            className=\"assistant-modal\"\r\n            initial={{ opacity: 0, scale: 0.8 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            exit={{ opacity: 0, scale: 0.8 }}\r\n            transition={{ type: 'spring', stiffness: 300, damping: 20 }}\r\n            style={{ position: 'fixed', bottom: '20px', right: '20px' }}\r\n          >\r\n            <div className=\"modal-header\">\r\n              <h3>AI Assistant</h3>\r\n              <CloseIcon \r\n                className=\"close-icon\" \r\n                onClick={() => setIsOpen(false)}\r\n                whileHover={{ rotate: 90 }}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"chat-container\">\r\n              <div className=\"chat-messages\">\r\n                {messages.map((message, index) => (\r\n                  <div key={index} className={`message ${message.sender}`}>\r\n                    <div className=\"message-icon\">\r\n                      {message.sender === 'user' ? (\r\n                        <PersonIcon style={{ color: '#1976d2' }} />\r\n                      ) : (\r\n                        <SmartToyIcon style={{ color: '#4caf50' }} />\r\n                      )}\r\n                    </div>\r\n                    <div className=\"message-content\">\r\n                      {message.text}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n                {isLoading && (\r\n                  <div className=\"message ai\">\r\n                    <div className=\"message-icon\">\r\n                      <SmartToyIcon style={{ color: '#4caf50' }} />\r\n                    </div>\r\n                    <div className=\"message-content\">\r\n                      <div className=\"dot-loader\">\r\n                        <div className=\"dot\"></div>\r\n                        <div className=\"dot\"></div>\r\n                        <div className=\"dot\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div ref={messagesEndRef} />\r\n              </div>\r\n\r\n              <motion.div \r\n                className=\"chat-input-container\"\r\n                whileHover={{ scale: 1.02 }}\r\n              >\r\n                <input\r\n                  type=\"text\"\r\n                  value={inputText}\r\n                  onChange={(e) => setInputText(e.target.value)}\r\n                  placeholder=\"Type your message...\"\r\n                  onKeyPress={(e) => {\r\n                    if (e.key === 'Enter' && inputText.trim()) {\r\n                      handleSend(inputText);\r\n                      setInputText('');\r\n                    }\r\n                  }}\r\n                  disabled={isLoading}\r\n                />\r\n                <div className=\"button-group\">\r\n                  <motion.button \r\n                    className=\"icon-button\"\r\n                    onClick={() => {\r\n                      if (inputText.trim()) {\r\n                        handleSend(inputText);\r\n                        setInputText('');\r\n                      }\r\n                    }}\r\n                    whileHover={{ scale: 1.1 }}\r\n                    whileTap={{ scale: 0.9 }}\r\n                    disabled={isLoading || !inputText.trim()}\r\n                  >\r\n                    <SendIcon style={{ fontSize: 20 }} />\r\n                  </motion.button>\r\n                  <motion.button \r\n                    className={`icon-button mic-button ${isListening ? 'listening' : ''} ${isSpeaking ? 'speaking' : ''}`}\r\n                    onClick={handleVoiceInput}\r\n                    whileHover={{ scale: 1.1 }}\r\n                    whileTap={{ scale: 0.9 }}\r\n                    disabled={isLoading}\r\n                  >\r\n                    <MicIcon style={{ fontSize: 20 }} />\r\n                    {(isListening || isSpeaking) && <div className=\"listening-animation\"></div>}\r\n                  </motion.button>\r\n                </div>\r\n              </motion.div>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AIAssistant; \r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}